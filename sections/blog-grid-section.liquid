<section class="shopify-section faq-section section_border_top section_border_bottom">

<style>
.section_border_top { border-top: 1px solid rgba(231,230,229); }
.section_border_bottom { border-bottom: 1px solid rgba(231,230,229); }
.faq .container {
    max-width: 1920px;
    width: 100%;
    padding: 0 20px;
}
h5.faq-block__heading {
    margin: 0;
}
.faq-summery {
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    padding: 10px 20px;
    border-top: 1px solid rgba(231, 230, 229);
}
.faq-item.active .faq-block__description {
    display: block;
    font-size: 13px;
    padding: 0 20px;
    line-height: 140%;
}
h2.section-header__title.title--section {
    padding: 20px;
}
.faq{overflow:hidden}
.faq-wrapper{display:flex;flex-wrap:wrap}
.faq .section-header__text{writing-mode:vertical-rl;transform:rotate(180deg)}
.faq .faq-img-box{display:flex;flex:0 0 100%}
@media screen and (min-width:1100px){
  .faq .faq-img-box{flex:0 0 50%}
}
.faq .faq__img{width:100%;position:relative;border-right:.1rem solid rgba(231,230,229);border-left:.1rem solid rgba(231,230,229);min-height:350px;padding:20px}
.faq .faq__img img{width:100%;height:100%;object-fit:cover;border-radius:var(--border-radius-media)}
.faq-box{flex:0 0 100%}
@media screen and (min-width:1100px){.faq-box{flex:0 0 50%}}

.faq-summery{display:flex;align-items:center;justify-content:space-between;cursor:pointer;border-top:1px solid rgba(231,230,229)}
.faq-block__description{display:none;padding:0 0 2rem 0;max-width:80%}
.faq-item.active .faq-block__description{display:block}
.faq-item svg{transition:transform .3s ease}
.faq-item.active svg{transform:rotate(180deg)}
</style>

<div class="faq color-background-1 background">
  <div class="container">
    <div class="faq-wrapper">

      <!-- LEFT IMAGE + TITLE -->
      <div class="faq-img-box">
        <h2 class="section-header__title title--section">
          <span class="section-header__text">{{ section.settings.heading }}</span>
        </h2>

        <div class="faq__img">
          {% if section.settings.image %}
            <img src="{{ section.settings.image | image_url: width: 1500 }}" alt="">
          {% endif %}
        </div>
      </div>

      <!-- RIGHT ACCORDION -->
      <div class="faq-box">
        {% for block in section.blocks %}
        <div class="faq-block">
          <div class="faq-item {% if forloop.first %}active{% endif %}">
            <div class="faq-summery">
              <h5 class="faq-block__heading">{{ block.settings.question }}</h5>
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M18 13.1667L12 19M12 19L6 13.1667M12 19L12 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="faq-block__description richtext__content">
              {{ block.settings.answer }}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll(".faq-summery").forEach(summary => {
    summary.addEventListener("click", function() {
      const item = this.closest(".faq-item");
      const section = this.closest(".faq-box");

      section.querySelectorAll(".faq-item").forEach(i => {
        if (i !== item) i.classList.remove("active");
      });

      item.classList.toggle("active");
    });
  });
});
</script>

{% schema %}
{
  "name": "FAQ Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "FAQs"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Left Image"
    }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "FAQ Item",
      "settings": [
        { "type": "text", "id": "question", "label": "Question" },
        { "type": "richtext", "id": "answer", "label": "Answer" }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ Section",
      "blocks": [
        { "type": "faq" },
        { "type": "faq" },
        { "type": "faq" }
      ]
    }
  ]
}
{% endschema %}
